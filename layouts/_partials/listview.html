<!-- List Post Area -->
<div class="row justify-content-center">
 <!-- Sidebar -->
 {{ if .Params.sidebar }}
 {{- partial "sidebar.html" . -}}
 {{ end }}

 <div id="resultsArea"
  class="{{ if not .Page.Params.sidebar }} col-md-12 col-lg-12 {{else}} col-md-11 col-lg-8 {{ end }} article">
  {{/*  <div id="resultsArea" class="col-md-11 col-lg-8 article"></div>  */}}

  {{/* Determine pages based on context: taxonomy vs general list */}}
  {{ $list := . }}
  {{ $pages := slice }}
  {{ if or (eq .Kind "taxonomy") (eq .Kind "term") }}
    {{ $pages = .Pages }}
    {{ if eq (len $pages) 0 }}
      {{ $termLower := lower .Title }}
      {{ if eq .Type "tags" }}
        {{ range $name, $taxonomy := $.Site.Taxonomies.tags }}
          {{ if eq (lower $name) $termLower }}
            {{ $pages = $taxonomy.Pages }}
          {{ end }}
        {{ end }}
      {{ else if eq .Type "categories" }}
        {{ range $name, $taxonomy := $.Site.Taxonomies.categories }}
          {{ if eq (lower $name) $termLower }}
            {{ $pages = $taxonomy.Pages }}
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}
    {{ $pages = where $pages "Section" "posts" }}
  {{ else }}
    {{ $pages = where .Site.RegularPages "Section" "posts" }}
  {{ end }}

  {{ $paginator := .Paginate $pages (.Site.Params.paginate | default 5) }}

  <div class="container my-3">
   {{ range $paginator.Pages.ByDate.Reverse }}
     {{ if or (eq $list.Kind "taxonomy") (eq $list.Kind "term") }}
       {{ partial "summary-taxonomy.html" (dict "page" . "term" $list.Title "type" $list.Type) }}
     {{ else }}
       {{ .Render "summary" }}
     {{ end }}
   <hr style="border: 0; border-color: #dee2e6">
   {{ end }}

  {{/*  Paginator style 2  */}}
  <div class="text-muted my-0 mt-1" style="display: flex; justify-content: center;">
   {{ partial "paginator.html" . }}
  </div>

</div>
</div>